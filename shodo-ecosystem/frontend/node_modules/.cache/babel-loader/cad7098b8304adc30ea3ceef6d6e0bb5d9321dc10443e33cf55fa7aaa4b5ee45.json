{"ast":null,"code":"import{useState,useRef}from'react';import{Box,Paper,TextField,Button,Typography,Chip,Alert,CircularProgress,Card,CardContent,IconButton,Divider,List,ListItem,ListItemText,ListItemIcon}from'@mui/material';import{Send as SendIcon,Clear as ClearIcon,Psychology as PsychologyIcon,Speed as SpeedIcon,CheckCircle as CheckCircleIcon,Help as HelpIcon,Refresh as RefreshIcon}from'@mui/icons-material';import{motion,AnimatePresence}from'framer-motion';import{useMutation}from'@tanstack/react-query';import{analyzeText}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NLPInput=()=>{const[input,setInput]=useState('');const[history,setHistory]=useState([]);const[selectedSuggestion,setSelectedSuggestion]=useState(null);const inputRef=useRef(null);const analyzeMutation=useMutation({mutationFn:text=>analyzeText(text),onSuccess:(data,variables)=>{setHistory(prev=>[...prev,{input:variables,result:data}]);setInput('');if(data.requires_confirmation&&data.suggestions.length>0){setSelectedSuggestion(null);}}});const handleSubmit=e=>{e.preventDefault();if(input.trim()){analyzeMutation.mutate(input);}};const handleSuggestionClick=suggestion=>{var _inputRef$current;setSelectedSuggestion(suggestion);setInput(suggestion);(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};const getConfidenceColor=confidence=>{if(confidence>=0.8)return'success';if(confidence>=0.6)return'warning';return'error';};const getProcessingPathIcon=path=>{switch(path){case'rule':case'rule_primary':return/*#__PURE__*/_jsx(SpeedIcon,{});case'ai':case'ai_primary':return/*#__PURE__*/_jsx(PsychologyIcon,{});default:return/*#__PURE__*/_jsx(CheckCircleIcon,{});}};return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:1200,mx:'auto',p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,sx:{mb:4},children:\"\\u81EA\\u7136\\u8A00\\u8A9E\\u30A4\\u30F3\\u30BF\\u30FC\\u30D5\\u30A7\\u30FC\\u30B9\"}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:4},children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(TextField,{ref:inputRef,fullWidth:true,multiline:true,minRows:2,maxRows:4,variant:\"outlined\",placeholder:\"\\u65E5\\u672C\\u8A9E\\u3067\\u64CD\\u4F5C\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\uFF08\\u4F8B\\uFF1AShopify\\u306E\\u4ECA\\u6708\\u306E\\u58F2\\u4E0A\\u3092\\u78BA\\u8A8D\\u3057\\u3066\\uFF09\",value:input,onChange:e=>setInput(e.target.value),disabled:analyzeMutation.isPending,sx:{flex:1}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",size:\"large\",disabled:!input.trim()||analyzeMutation.isPending,startIcon:analyzeMutation.isPending?/*#__PURE__*/_jsx(CircularProgress,{size:20}):/*#__PURE__*/_jsx(SendIcon,{}),sx:{height:56},children:\"\\u89E3\\u6790\"}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>setInput(''),disabled:!input||analyzeMutation.isPending,sx:{height:56},children:/*#__PURE__*/_jsx(ClearIcon,{})})]})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"\\u30B5\\u30F3\\u30D7\\u30EB\\u5165\\u529B:\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1,flexWrap:'wrap',mt:1},children:['Shopifyの商品を一覧表示','Gmailで未読メールを確認','Stripeの今月の売上を見る','価格を1000円に変更して'].map(sample=>/*#__PURE__*/_jsx(Chip,{label:sample,size:\"small\",onClick:()=>setInput(sample),clickable:true,variant:\"outlined\"},sample))})]})]}),analyzeMutation.isError&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:\"\\u89E3\\u6790\\u4E2D\\u306B\\u30A8\\u30E9\\u30FC\\u304C\\u767A\\u751F\\u3057\\u307E\\u3057\\u305F\\u3002\\u3082\\u3046\\u4E00\\u5EA6\\u304A\\u8A66\\u3057\\u304F\\u3060\\u3055\\u3044\\u3002\"}),/*#__PURE__*/_jsx(AnimatePresence,{children:history.map((item,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3},children:/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u5165\\u529B:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:item.input})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:3,flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u691C\\u51FA\\u3055\\u308C\\u305F\\u610F\\u56F3:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:item.result.intent})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u78BA\\u4FE1\\u5EA6:\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:/*#__PURE__*/_jsx(Chip,{label:\"\".concat((item.result.confidence*100).toFixed(1),\"%\"),color:getConfidenceColor(item.result.confidence),size:\"small\"})})]}),item.result.service&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u5BFE\\u8C61\\u30B5\\u30FC\\u30D3\\u30B9:\"}),/*#__PURE__*/_jsx(Chip,{label:item.result.service,color:\"primary\",size:\"small\"})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u51E6\\u7406\\u7D4C\\u8DEF:\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:0.5},children:[getProcessingPathIcon(item.result.processing_path),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:item.result.processing_path})]})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u51E6\\u7406\\u6642\\u9593:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[item.result.processing_time_ms.toFixed(1),\"ms\"]})]})]}),Object.keys(item.result.entities).length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"\\u62BD\\u51FA\\u3055\\u308C\\u305F\\u30A8\\u30F3\\u30C6\\u30A3\\u30C6\\u30A3:\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1,flexWrap:'wrap',mt:1},children:Object.entries(item.result.entities).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsx(Chip,{label:\"\".concat(key,\": \").concat(JSON.stringify(value)),size:\"small\",variant:\"outlined\"},key);})})]}),item.result.requires_confirmation&&item.result.suggestions.length>0&&/*#__PURE__*/_jsx(Box,{sx:{mt:3},children:/*#__PURE__*/_jsxs(Alert,{severity:\"info\",icon:/*#__PURE__*/_jsx(HelpIcon,{}),children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{mb:1},children:\"\\u3088\\u308A\\u6B63\\u78BA\\u306A\\u51E6\\u7406\\u306E\\u305F\\u3081\\u3001\\u4EE5\\u4E0B\\u306E\\u60C5\\u5831\\u3092\\u8FFD\\u52A0\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044:\"}),/*#__PURE__*/_jsx(List,{dense:true,children:item.result.suggestions.map((suggestion,idx)=>/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:()=>handleSuggestionClick(suggestion),sx:{bgcolor:selectedSuggestion===suggestion?'action.selected':'transparent',borderRadius:1,mb:0.5},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(RefreshIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:suggestion})]},idx))})]})})]})})},index))}),history.length===0&&!analyzeMutation.isPending&&/*#__PURE__*/_jsxs(Paper,{sx:{p:4,textAlign:'center',bgcolor:'background.default'},children:[/*#__PURE__*/_jsx(PsychologyIcon,{sx:{fontSize:64,color:'text.secondary',mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"\\u81EA\\u7136\\u306A\\u65E5\\u672C\\u8A9E\\u3067\\u64CD\\u4F5C\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:\"AI\\u304C\\u610F\\u56F3\\u3092\\u7406\\u89E3\\u3057\\u3001\\u9069\\u5207\\u306A\\u30B5\\u30FC\\u30D3\\u30B9\\u3068\\u64CD\\u4F5C\\u3092\\u7279\\u5B9A\\u3057\\u307E\\u3059\"})]})]});};export default NLPInput;","map":{"version":3,"names":["useState","useRef","Box","Paper","TextField","Button","Typography","Chip","Alert","CircularProgress","Card","CardContent","IconButton","Divider","List","ListItem","ListItemText","ListItemIcon","Send","SendIcon","Clear","ClearIcon","Psychology","PsychologyIcon","Speed","SpeedIcon","CheckCircle","CheckCircleIcon","Help","HelpIcon","Refresh","RefreshIcon","motion","AnimatePresence","useMutation","analyzeText","jsx","_jsx","jsxs","_jsxs","NLPInput","input","setInput","history","setHistory","selectedSuggestion","setSelectedSuggestion","inputRef","analyzeMutation","mutationFn","text","onSuccess","data","variables","prev","result","requires_confirmation","suggestions","length","handleSubmit","e","preventDefault","trim","mutate","handleSuggestionClick","suggestion","_inputRef$current","current","focus","getConfidenceColor","confidence","getProcessingPathIcon","path","sx","maxWidth","mx","p","children","variant","gutterBottom","mb","elevation","onSubmit","display","gap","alignItems","ref","fullWidth","multiline","minRows","maxRows","placeholder","value","onChange","target","disabled","isPending","flex","type","size","startIcon","height","onClick","mt","color","flexWrap","map","sample","label","clickable","isError","severity","item","index","div","initial","opacity","y","animate","exit","transition","duration","my","intent","concat","toFixed","service","processing_path","processing_time_ms","Object","keys","entities","entries","_ref","key","JSON","stringify","icon","dense","idx","button","bgcolor","borderRadius","fontSize","primary","textAlign"],"sources":["/workspace/shodo-ecosystem/frontend/src/features/nlp/NLPInput.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport {\n  Box,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Chip,\n  Alert,\n  CircularProgress,\n  Card,\n  CardContent,\n  IconButton,\n  Tooltip,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n} from '@mui/material';\nimport {\n  Send as SendIcon,\n  Clear as ClearIcon,\n  Psychology as PsychologyIcon,\n  Speed as SpeedIcon,\n  CheckCircle as CheckCircleIcon,\n  Help as HelpIcon,\n  Refresh as RefreshIcon,\n} from '@mui/icons-material';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useMutation } from '@tanstack/react-query';\nimport { analyzeText } from '../../services/api';\n\ninterface AnalysisResult {\n  intent: string;\n  confidence: number;\n  entities: Record<string, any>;\n  service?: string;\n  requires_confirmation: boolean;\n  suggestions: string[];\n  processing_path: string;\n  processing_time_ms: number;\n}\n\nconst NLPInput: React.FC = () => {\n  const [input, setInput] = useState('');\n  const [history, setHistory] = useState<Array<{ input: string; result: AnalysisResult }>>([]);\n  const [selectedSuggestion, setSelectedSuggestion] = useState<string | null>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const analyzeMutation = useMutation({\n    mutationFn: (text: string) => analyzeText(text),\n    onSuccess: (data, variables) => {\n      setHistory(prev => [...prev, { input: variables, result: data }]);\n      setInput('');\n      if (data.requires_confirmation && data.suggestions.length > 0) {\n        setSelectedSuggestion(null);\n      }\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (input.trim()) {\n      analyzeMutation.mutate(input);\n    }\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    setSelectedSuggestion(suggestion);\n    setInput(suggestion);\n    inputRef.current?.focus();\n  };\n\n  const getConfidenceColor = (confidence: number) => {\n    if (confidence >= 0.8) return 'success';\n    if (confidence >= 0.6) return 'warning';\n    return 'error';\n  };\n\n  const getProcessingPathIcon = (path: string) => {\n    switch (path) {\n      case 'rule':\n      case 'rule_primary':\n        return <SpeedIcon />;\n      case 'ai':\n      case 'ai_primary':\n        return <PsychologyIcon />;\n      default:\n        return <CheckCircleIcon />;\n    }\n  };\n\n  return (\n    <Box sx={{ maxWidth: 1200, mx: 'auto', p: 3 }}>\n      <Typography variant=\"h4\" gutterBottom sx={{ mb: 4 }}>\n        自然言語インターフェース\n      </Typography>\n\n      {/* 入力フォーム */}\n      <Paper elevation={3} sx={{ p: 3, mb: 4 }}>\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: 'flex', gap: 2, alignItems: 'flex-start' }}>\n            <TextField\n              ref={inputRef}\n              fullWidth\n              multiline\n              minRows={2}\n              maxRows={4}\n              variant=\"outlined\"\n              placeholder=\"日本語で操作を入力してください（例：Shopifyの今月の売上を確認して）\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              disabled={analyzeMutation.isPending}\n              sx={{ flex: 1 }}\n            />\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              size=\"large\"\n              disabled={!input.trim() || analyzeMutation.isPending}\n              startIcon={analyzeMutation.isPending ? <CircularProgress size={20} /> : <SendIcon />}\n              sx={{ height: 56 }}\n            >\n              解析\n            </Button>\n            <IconButton\n              onClick={() => setInput('')}\n              disabled={!input || analyzeMutation.isPending}\n              sx={{ height: 56 }}\n            >\n              <ClearIcon />\n            </IconButton>\n          </Box>\n        </form>\n\n        {/* サンプル入力 */}\n        <Box sx={{ mt: 2 }}>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            サンプル入力:\n          </Typography>\n          <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mt: 1 }}>\n            {[\n              'Shopifyの商品を一覧表示',\n              'Gmailで未読メールを確認',\n              'Stripeの今月の売上を見る',\n              '価格を1000円に変更して',\n            ].map((sample) => (\n              <Chip\n                key={sample}\n                label={sample}\n                size=\"small\"\n                onClick={() => setInput(sample)}\n                clickable\n                variant=\"outlined\"\n              />\n            ))}\n          </Box>\n        </Box>\n      </Paper>\n\n      {/* エラー表示 */}\n      {analyzeMutation.isError && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          解析中にエラーが発生しました。もう一度お試しください。\n        </Alert>\n      )}\n\n      {/* 解析結果履歴 */}\n      <AnimatePresence>\n        {history.map((item, index) => (\n          <motion.div\n            key={index}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            transition={{ duration: 0.3 }}\n          >\n            <Card sx={{ mb: 3 }}>\n              <CardContent>\n                {/* 入力内容 */}\n                <Box sx={{ mb: 2 }}>\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                    入力:\n                  </Typography>\n                  <Typography variant=\"body1\">{item.input}</Typography>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* 解析結果 */}\n                <Box sx={{ display: 'flex', gap: 3, flexWrap: 'wrap' }}>\n                  {/* 意図 */}\n                  <Box>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                      検出された意図:\n                    </Typography>\n                    <Typography variant=\"h6\">{item.result.intent}</Typography>\n                  </Box>\n\n                  {/* 確信度 */}\n                  <Box>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                      確信度:\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      <Chip\n                        label={`${(item.result.confidence * 100).toFixed(1)}%`}\n                        color={getConfidenceColor(item.result.confidence)}\n                        size=\"small\"\n                      />\n                    </Box>\n                  </Box>\n\n                  {/* サービス */}\n                  {item.result.service && (\n                    <Box>\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                        対象サービス:\n                      </Typography>\n                      <Chip label={item.result.service} color=\"primary\" size=\"small\" />\n                    </Box>\n                  )}\n\n                  {/* 処理経路 */}\n                  <Box>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                      処理経路:\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\n                      {getProcessingPathIcon(item.result.processing_path)}\n                      <Typography variant=\"body2\">\n                        {item.result.processing_path}\n                      </Typography>\n                    </Box>\n                  </Box>\n\n                  {/* 処理時間 */}\n                  <Box>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                      処理時間:\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      {item.result.processing_time_ms.toFixed(1)}ms\n                    </Typography>\n                  </Box>\n                </Box>\n\n                {/* エンティティ */}\n                {Object.keys(item.result.entities).length > 0 && (\n                  <Box sx={{ mt: 2 }}>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                      抽出されたエンティティ:\n                    </Typography>\n                    <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mt: 1 }}>\n                      {Object.entries(item.result.entities).map(([key, value]) => (\n                        <Chip\n                          key={key}\n                          label={`${key}: ${JSON.stringify(value)}`}\n                          size=\"small\"\n                          variant=\"outlined\"\n                        />\n                      ))}\n                    </Box>\n                  </Box>\n                )}\n\n                {/* 確認が必要な場合の提案 */}\n                {item.result.requires_confirmation && item.result.suggestions.length > 0 && (\n                  <Box sx={{ mt: 3 }}>\n                    <Alert severity=\"info\" icon={<HelpIcon />}>\n                      <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\n                        より正確な処理のため、以下の情報を追加してください:\n                      </Typography>\n                      <List dense>\n                        {item.result.suggestions.map((suggestion, idx) => (\n                          <ListItem\n                            key={idx}\n                            button\n                            onClick={() => handleSuggestionClick(suggestion)}\n                            sx={{\n                              bgcolor: selectedSuggestion === suggestion ? 'action.selected' : 'transparent',\n                              borderRadius: 1,\n                              mb: 0.5,\n                            }}\n                          >\n                            <ListItemIcon>\n                              <RefreshIcon fontSize=\"small\" />\n                            </ListItemIcon>\n                            <ListItemText primary={suggestion} />\n                          </ListItem>\n                        ))}\n                      </List>\n                    </Alert>\n                  </Box>\n                )}\n              </CardContent>\n            </Card>\n          </motion.div>\n        ))}\n      </AnimatePresence>\n\n      {/* 履歴が空の場合 */}\n      {history.length === 0 && !analyzeMutation.isPending && (\n        <Paper sx={{ p: 4, textAlign: 'center', bgcolor: 'background.default' }}>\n          <PsychologyIcon sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            自然な日本語で操作を入力してください\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n            AIが意図を理解し、適切なサービスと操作を特定します\n          </Typography>\n        </Paper>\n      )}\n    </Box>\n  );\n};\n\nexport default NLPInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}