# ============================
# Shodo Ecosystem 環境変数設定例
# ============================
# このファイルを .env にコピーして使用してください
# cp .env.example .env

# ============================
# 基本設定
# ============================
ENVIRONMENT=development  # development | production
DEBUG=false
LOG_LEVEL=INFO

# ============================
# データベース設定
# ============================
DATABASE_URL=postgresql://shodo:shodo_pass@postgres:5432/shodo
REDIS_URL=redis://redis:6379

# ============================
# AIサーバー設定
# ============================
# vLLM設定（GPT-OSS使用時）
VLLM_URL=http://vllm:8001
MODEL_NAME=openai/gpt-oss-20b
QUANTIZATION=awq
GPU_MEMORY_UTILIZATION=0.95
MAX_MODEL_LEN=128000

# Ollama設定（代替LLM使用時）
OLLAMA_HOST=http://localhost:11434
INFERENCE_ENGINE=vllm  # vllm | ollama

# ============================
# セキュリティ設定
# ============================
# JWT設定（必ず変更してください！）
JWT_SECRET_KEY=your-secret-key-here-change-in-production-$(openssl rand -hex 32)
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS設定
CORS_ORIGINS=["http://localhost:3000","http://frontend:3000"]

# レート制限
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================
# サービス連携設定
# ============================
# Shopify
SHOPIFY_API_KEY=your-shopify-api-key
SHOPIFY_API_SECRET=your-shopify-api-secret
SHOPIFY_STORE_URL=your-store.myshopify.com

# Gmail
GMAIL_CLIENT_ID=your-gmail-client-id
GMAIL_CLIENT_SECRET=your-gmail-client-secret
GMAIL_REDIRECT_URI=http://localhost:8000/api/v1/auth/gmail/callback

# Stripe
STRIPE_API_KEY=sk_test_your-stripe-api-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key

# Slack
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_SIGNING_SECRET=your-signing-secret

# Notion
NOTION_API_KEY=secret_your-notion-api-key
NOTION_VERSION=2022-06-28

# ============================
# フロントエンド設定
# ============================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000
REACT_APP_ENVIRONMENT=development

# ============================
# キャッシュ設定
# ============================
CACHE_TTL=300  # 5分
CACHE_MAX_SIZE=1000

# ============================
# 監視・ログ設定
# ============================
# Prometheus
METRICS_ENABLED=true
METRICS_PORT=9090

# OpenTelemetry
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=shodo-ecosystem

# ============================
# その他の設定
# ============================
# ファイルアップロード
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=csv,json,xlsx,pdf,txt

# セッション設定
SESSION_TIMEOUT=3600  # 1時間
SESSION_EXTEND_ON_ACTIVITY=true

# バックグラウンドジョブ
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# メール設定（通知用）
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@shodo-ecosystem.com

# ============================
# 開発環境専用設定
# ============================
# ホットリロード
RELOAD=true

# デバッグツール
ENABLE_DEBUG_TOOLBAR=true
ENABLE_SQL_LOGGING=false

# モックモード（外部API呼び出しをモック化）
USE_MOCK_SERVICES=false

# ============================
# 本番環境専用設定
# ============================
# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# CDN
CDN_ENABLED=false
CDN_URL=https://cdn.shodo-ecosystem.com

# バックアップ
BACKUP_ENABLED=false
BACKUP_S3_BUCKET=shodo-backups
BACKUP_SCHEDULE=0 2 * * *  # 毎日午前2時

# ============================
# Docker Compose 設定
# ============================
COMPOSE_PROJECT_NAME=shodo-ecosystem
COMPOSE_FILE=docker-compose.yml
COMPOSE_PROFILES=full  # full | minimal | development